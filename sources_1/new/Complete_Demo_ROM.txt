////////////////////////////////////////////////////////Dividing Screen///////////////////////////////////////////////////////

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////




///////////////////////////////////////////////////////////Loop  Body/////////////////////////////////////////////////////////
//Read [0XB0] TO 0X10
@0x50   0x00 // lwa 0xB0
@0x51   0xB0
@0x52   0x02 // swa 0x10
@0x53   0x10

//Read X TO 0X11
@0x54   0x00 // lwa 0xB1
@0x55   0xB1
@0x56   0x02 // swa 0x11
@0x57   0x11

//Read Y TO 0X12
@0x58   0x00 // lwa 0xB2
@0x59   0xB2
@0x5A   0x02 // swa 0x12
@0x5B   0x12

//Read [0XB3] TO 0X13
@0x5C   0x00 // lwa 0xB3
@0x5D   0xB3
@0x5E   0x02 // swa 0x13
@0x5F   0x13

/////Y check and setting flags/////
@0x60   0x00 // lwa 0X12
@0x61   0x12

//If y <= 39d [0X14] = 1
@0x62   0x1D // limmb 39D
@0x63   0x27
@0x64   0xA6 // bgt  ,i.e. y>39
@0x65   0x

@0x66   0x01 // lwb 0x01 
@0x67   0x01
@0x68   0x03 // swb 0x14
@0x69   0x14
@0x6A   0x07 // jmp 
@0x6B   0x

@0x6C   0x1d // limmb 79D
@0x6D   0x4F
@0x   0x1d // swb 0x01
@0x   0x01

@0x   0x1D // limmb 79D
@0x   0x4D
///////////////////////////////////


//X check
@0x   0x1D // limmb 53D
@0x   0x35
@0x   0xB6

@0x   0x1D // limmb 107D
@0x   0x6B



0x08
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////





//////////////////////////////////////////////////////////VGA Control/////////////////////////////////////////////////////////

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////


//////////////////////////////////////////////////////////Write VGA///////////////////////////////////////////////////////////
@0xA0   0x02 // swa 0xB0
@0xA1   0xB0
@0xA2   0x0A // rtn

@0xA3   0x02 // swa 0xB1
@0xA4   0xB1
@0xA5   0x0A // rtn

@0xA6   0x02 // swa 0xB2
@0xA7   0xB2
@0xA8   0x0A // rtn

@0xA9   0x03 // swb 0xB0
@0xAA   0xB0
@0xAB   0x0A // rtn

@0xAC   0x03 // swb 0xB1
@0xAD   0xB1
@0xAE   0x0A // rtn

@0xAF   0x03 // swb 0xB2
@0xB0   0xB2
@0xB1   0x0A // rtn
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

//////////////////////////////////////////////////////////Car Control/////////////////////////////////////////////////////////
// brake
@0xBC   0x0D // limma 0x00
@0xBD   0x00
@0xBE   0x07 // jmp 0xF6
@0xBF   0xF6

// left
@0xC0   0x0D // limma 0x02
@0xC1   0x02
@0xC2   0x07 // jmp 0xF6
@0xC3   0xF6

// right
@0xC4   0x0D // limma 0x01
@0xC5   0x01
@0xC6   0x07 // jmp 0xF6
@0xC7   0xF6

// forward
@0xC8   0x0D // limma 0x14
@0xC9   0x08
@0xCA   0x07 // jmp 0xF6
@0xCB   0xF6

// backward
@0xCC   0x0D // limma 0x04
@0xCD   0x04
@0xCE   0x07 // jmp 0xF6
@0xCF   0xF6

// forward left
@0xD0   0x0D // limma 0x0A
@0xD1   0x0A
@0xD2   0x07 // jmp 0xF6
@0xD3   0xF6

// backward right
@0xD4   0x0D // limma 0x05
@0xD5   0x05
@0xD6   0x07 // jmp 0xF6
@0xD7   0xF6

// forward right
@0xD8   0x0D // limma 0x09
@0xD9   0x09
@0xDA   0x07 // jmp 0xF6
@0xDB   0xF6

// backward left
@0xDC   0x0D // limma 0x06
@0xDD   0x06
@0xDE   0x07 // jmp 0xF6
@0xDF   0xF6
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

//////////////////////////////////////////////////////////Write 7seg//////////////////////////////////////////////////////////
@0xE0   0x02 // swa 0xD0
@0xE1   0xD0
@0xE2   0x0A // rtn

@0xE3   0x02 // swa 0xD1
@0xE4   0xD1
@0xE5   0x0A // rtn

@0xE6   0x03 // swb 0xD0
@0xE7   0xD0
@0xE8   0x0A // rtn

@0xE9   0x03 // swb 0xD1
@0xEA   0xD1
@0xEB   0x0A // rtn
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

///////////////////////////////////////////////////////////Write LED//////////////////////////////////////////////////////////
@0xF0   0x02 // swa 0xC0
@0xF1   0xC0
@0xF2   0x0A // rtn

@0xF3   0x02 // swa 0xC1
@0xF4   0xC1
@0xF5   0x0A // rtn
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

///////////////////////////////////////////////////////////Write IR///////////////////////////////////////////////////////////
@0xF6   0x02 // swa 0x90
@0xF7   0x90
@0xF8   0x0A // rtn
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////Interruption  Response////////////////////////////////////////////////////
@0xFE  //Mouse
@0xFF  //Timer
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
